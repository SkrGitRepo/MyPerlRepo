<HTML>
<HEAD>
<META name=vsisbn content="1576104265">
<META name=vstitle content="Perl Core Language Little Black Book">
<META name=vsauthor content="Steven Holzner">
<META name=vspublisher content="The Coriolis Group">
<META name=vspubdate content="03/01/99">
<META name=vscategory content="Web and Software Development: Open Source Development: Languages: Perl,Web and Software Development: Programming, Scripting, and Markup Languages: Perl">





<TITLE>Perl Core Language Little Black Book:CGI Programming With cgi-lib.pl</TITLE>

<!-- HEADER -->

<STYLE type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
</STYLE>

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
         var Win = window.open(url,"displayWindow",'width=' + width +',height=' + height + ',resizable=1,scrollbars=yes');
	if (Win) {
		Win.focus();
	}
}
//-->
</script>
<SCRIPT>
<!--
function popUp(url) {
        var Win = window.open(url,"displayWindow",'width=400,height=300,resizable=1,scrollbars=yes');
	if (Win) {
		Win.focus();
	}
}
//-->
</SCRIPT>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//-->
</script>

<SCRIPT LANGUAGE="JavaScript">
<!--
var axel = Math.random() + "";
var ord = axel * 1000000000000000000 + "?";

//This part of script alleviates a Netscape document.write bug
<!-- 
NS4 = document.layers;
if (NS4) {
origWidth = innerWidth;
origHeight = innerHeight;
}
function reDo() {
if (innerWidth != origWidth || innerHeight != origHeight) 
location.reload();
}
if (NS4) onresize = reDo;
//-->
</SCRIPT> 
</HEAD>

<body background="/images/back.jpg" bgcolor="#FFFFFF" link="#003399" alink="#FF0000" vlink="#003399" topmargin=0 leftmargin=0 marginheight=0 marginwidth=0>

<table bgcolor="#003366" width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr valign="top">
		<td height="95">
		&nbsp;&nbsp;<a href="http://www.earthweb.com" target="resource window"><img src="/images/ew_logo.jpg" width="82" height="58" alt="EarthWeb" border="0"></a>&nbsp;&nbsp;&nbsp;</td>
		<td height=95">
		<table width="100%">
			<tr valign="top">
			<td bgcolor="#003366" nowrap>
<SCRIPT LANGUAGE="javascript">
<!--
document.write('<NOLAYER>');
document.write('<IFRAME SRC="http://ad.doubleclick.net/adi/itk.earthweb.dart/b_soft_dev;a=b_soft_dev1;sz=468x60;ord=' + ord + '" width="468" height="60" frameborder="no" border="0" MARGINWIDTH="0" MARGINHEIGHT="0" SCROLLING="no">');
document.write('<A HREF="http://ad.doubleclick.net/jump/itk.earthweb.dart/b_soft_dev;abr=!ie;a=b_soft_dev1;sz=468x60;ord=' + ord + '" target="_top"><IMG SRC="http://ad.doubleclick.net/ad/itk.earthweb.dart/b_soft_dev;abr=!ie;a=b_soft_dev1;sz=468x60;ord=' + ord + '" border=0 height="60" width="468"></A>');
document.write('</IFRAME>');
document.write('</NOLAYER>');
document.write('<ILAYER id="layer1" visibility="hidden" width=468 height=60></ILAYER>');
//-->
</SCRIPT>
			</td>
			<td bgcolor="#003366" nowrap>
<SCRIPT LANGUAGE="javascript">
<!--
document.write('<NOLAYER>');
document.write('<IFRAME SRC="http://ad.doubleclick.net/adi/itk.earthweb.dart/b_soft_dev;a=b_soft_dev4;sz=160x60;ord=' + ord + '" width="160" height="60" frameborder="no" border="0" MARGINWIDTH="0" MARGINHEIGHT="0" SCROLLING="no">');
document.write('<A HREF="http://ad.doubleclick.net/jump/itk.earthweb.dart/b_soft_dev;abr=!ie;a=b_soft_dev4;sz=160x60;ord=' + ord + '" target="_top"><IMG SRC="http://ad.doubleclick.net/ad/itk.earthweb.dart/b_soft_dev;abr=!ie;a=b_soft_dev4;sz=160x60;ord=' + ord + '" border=0 height="60" width="160"></A>');
document.write('</IFRAME>');
document.write('</NOLAYER>');
document.write('<ILAYER id="layer4" visibility="hidden" width=160 height=60></ILAYER>');
//-->
</SCRIPT>
			</td>
			<td bgcolor="#003366" nowrap><a href="ITKN1a2b3c4d5e6f7g8h9idefcon4.html"><img src="/images/dotclear.gif" border="0" height="1" width="1" align="left"></a></td>
			</tr></table><br></td>
	</tr>
		
<!-- 	<tr>
		<td height="1" colspan="3" bgcolor="#003366"><img src="/images/dotclear.gif" border=0 alt=""></td>
	</tr> -->
</table>

<!-- END HEADER -->


<!-- BEGIN SUB HEADER -->

<table bgcolor="#003366" cellpadding="0" cellspacing="0" border="0" width="100%">

<!-- ITK TOPNAV -->
	
	<tr>
		<td align="left" valign="top" nowrap><a href="/index2.html"><img src="/images/top_tabs/home_off.gif" alt="Home" border="0"></a><a href="/pick-account.html"><img src="/images/top_tabs/accountinfo.gif" alt="Account Info" border="0"></a><!--<a href="/PSUser/usrreg.htm?AdminAction=InitAdd&Locale=en&URI=/"><img src="/images/top_tabs/subscribe.gif" alt="Subscribe" border="0"></a>--><a href="/PSUser/psuserauth.htm?cmd=login&URI=/"><img src="/images/top_tabs/login.gif" alt="Login" border="0"></a><a href="/search/"><img src="/images/top_tabs/search.gif" alt="Search" border="0"></a><a href="/PSUser/EWIPOMain.html"><img src="/images/top_tabs/my_itknowledge.gif" alt="My ITKnowledge" border="0"></a><a href="/faq/faq.html"><img src="/images/top_tabs/faq.gif" alt="FAQ" border="0"></a><a href="/sitemap.html"><img src="/images/top_tabs/sitemap.gif" alt="Sitemap" border="0"></a><a href="/contactus.html"><img src="/images/top_tabs/contact_us.gif" alt="Contact Us" border="0"></a></td> 
	</tr>
	
<!-- END of ITK TOPNAV -->

<!-- ITK LOGO and newsletter sign up -->

</table>
	
<table cellpadding="0" cellspacing="0" border="0" width="100%">

	<tr>
		<td align="left" valign="top" nowrap><img src="/images/itk_logo_sm.jpg" alt="" border="0"></td>
		<td align="right"><font face="verdana, sans-serif" size="1">

<script language="JavaScript">
<!-- 

var days = new Array(8);
days[1] = "Sunday";
days[2] = "Monday";
days[3] = "Tuesday";
days[4] = "Wednesday";
days[5] = "Thursday";
days[6] = "Friday";
days[7] = "Saturday";

var months = new Array(13);
months[1] = "January";
months[2] = "February";
months[3] = "March";
months[4] = "April";
months[5] = "May";
months[6] = "June";
months[7] = "July";
months[8] = "August";
months[9] = "September";
months[10] = "October";
months[11] = "November";
months[12] = "December";

var dateObj = new Date()
var wday = days[dateObj.getDay() + 1]
var lmonth = months[dateObj.getMonth() + 1]
var date = dateObj.getDate()
var fyear = dateObj.getYear()
if (fyear <1000) fyear += 1900;
document.write(wday + ", " + lmonth + " " + date + ", " + fyear)
                
//-->
</script>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
<br><br>


		 </td>
	</tr>
	</table>

<!-- END ITK LOGO and newsletter sign up-->
	
<!-- begin of ITK left NAV -->

<!-- BEGIN LEFT NAVBAR -->

<!-- BEGIN LEFT NAVBAR -->

	<table border="0" cellpadding="0" cellspacing="0">
	
	
		<tr>
		<td width="145" valign="top" align="left" rowspan=8>
		
	<!-- KEYWORD SEARCH -->	
<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//-->
</script>
	
	
	<form name="keyword" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewkwk2search_p2.jsp" onSubmit=" return checkForQuery(this); ">
<img src="/images/keyword_searcha.gif" vspace="5" width="145" alt="" border="0">
<INPUT type="hidden" name="collection" value="corpitk_p2">
<INPUT type="hidden" name="altcoll" value="allbooks_p2">
<INPUT type="hidden" name="topics" value="itk_www">
<INPUT type="hidden" name="hl" value="off">
<INPUT name="sortspec" type=hidden value="vspubdate desc score desc">
<INPUT name=fields type=hidden value="vdkvgwkey score vstitle vsauthor vsisbn vspublisher vspubdate">		
<INPUT name=imageprefix type=hidden value="http://www.itknowledge.com">
<INPUT name=ssiFolder type=hidden value="itk">
		
		<table width="145" border="0" cellpadding="0" cellspacing="0">
		<tr>
		<td width="145">&nbsp;&nbsp;<input type="text" name="query" value="" size="11">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle><br>
&nbsp;&nbsp;<INPUT type="radio" name="scope" value="" checked><FONT face="arial, helvetica" size="1" color="#ffffff" size="1">All ITKnowledge</FONT><br>
&nbsp;&nbsp;<INPUT type="radio" name="scope" value="sourcecode"><FONT face="arial, helvetica" size="1" color="#ffffff" size="1">Source Code</FONT><br>
			<font face="arial, helvetica" size="2">
			<img src="/images/dotclear.gif" width="1" height="5" alt="" border="0"><br>
			
			&nbsp;&nbsp;<a href="/search/search-tips.html"><img src="/images/arrows_blue.gif" alt="" border="0"><font size="1" color="#ffffff">Search Tips</font></a><br>
			&nbsp;&nbsp;<a href="/search/"><img src="/images/arrows_blue.gif" alt="" border="0"><font size="1" color="#ffffff">Advanced Search</font></a><br>
			
			</font>
			
		</td>
		<td width="5"><img src="/images/dotclear.gif" width=5 height=10 hspace="5" alt="" border="0"></td>
		</tr>
		</table>
	</form>
		
		
<!-- BROWSE BY TOPIC -->
		

<form name="meta" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewmetak2search_p2.jsp" onSubmit=" return checkForQuery(this); ">
<img src="/images/publication_searcha.gif" width="145" alt="" border="0">
<INPUT type="hidden" name="collection" value="allbooks_p2">
<INPUT type="hidden" name="altcoll" value="corpitk_p2">
<INPUT type="hidden" name="topics" value="itk_www">
<INPUT type="hidden" name="hl" value="off">
<INPUT name="sortspec" type=hidden value="vspubdate desc score desc">
<INPUT name=fields type=hidden value="vdkvgwkey score vstitle vsauthor vspublisher vspubdate">
<INPUT name=imageprefix type=hidden value="http://www.itknowledge.com">
<INPUT name=ssiFolder type=hidden value="itk">
		
<table width="145" border="0" cellpadding="0" cellspacing="0">
	
			<tr>
			<td valign="top">
			&nbsp;&nbsp;<input type="text" name="query" value="" size="11">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle><br><font face="arial, helvetica" size="2">
			&nbsp;&nbsp;<SELECT NAME="metatags" style="font-size: 12; font-family: sans-serif;" size="1">
			<option value="vstitle" SELECTED>Title
			<option value="vsauthor">Author
			<option value="vspublisher">Publisher
			<option value="vsisbn">ISBN			
			</SELECT><br><br></font>
			</td>
			</tr>
</table>
</form>

<form action="" name="catlist">	
<table width="145" border="0" cellpadding="0" cellspacing="0">				
			<tr>
			<td valign="top">
			<img src="/images/jump_topica.gif" width="145" alt="" border="0">
			</td>
			</tr>
			<tr>
			<td width="145">
				
	        	<font face="Arial,helvetica" size="1">
				&nbsp;&nbsp;<SELECT NAME="cat" onChange='top.location.href=this.options[selectedIndex].value;' style="font-size: 10; font-family: sans-serif;">
                        <option value="" selected>Please Select
                        <option value="">-----------
						<option value="/reference/dir.1-busman.html">Business &amp; IT Mgmt
						<option value="/reference/dir.2-certification.html">Certification &amp; Training                       
						<option value="/reference/dir.3-databaseanderp.html">Database &amp; ERP
                        <option value="/reference/dir.4-desktopapps.html">Desktop Apps
                        <option value="/reference/dir.5-desktoppubanddesign.html">Graphic Design
                        <option value="/reference/dir.6-generalinternet.html">General Internet
                        <option value="/reference/dir.7-hardwareandos.html">Hardware &amp; OS
                        <option value="/reference/dir.8-ibmredbooks.html">IBM RedBooks
                        <option value="/reference/dir.9-networktelcom.html">Network &amp; Telecom
						<option value="/reference/dir.10-websoftwaredev.html">Web &amp; Software Dev
                        <option value="">-----------

                        <option value="/reference/dir.archive1.html">Public Archive               
                        </SELECT>
			</font>
			
		</td>
		</tr>
	</table>
	</form>
	
<!-- LEFT NAV SEARCH END -->

	</td>
		

<!-- END LEFT NAVBAR -->


<!-- END LEFT NAVBAR -->
	
	<td width="15"><img src="/images/dotclear.gif" width="15" alt="" border="0"></td>

<!-- end of ITK left NAV -->

<!-- begin main content -->
	
	<td width="100%" valign="top" align="left">
		<br>

<!-- END SUB HEADER -->
<!-- Created by dB Page Builder.  http://www.pchelponline.com/bluestem -->

<!--Begin Content Column -->

<TABLE border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img src="/images/sm_covers/1576104265.gif" width=60 height=73 alt="Perl Core Language Little Black Book" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Perl Core Language Little Black Book</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Steven Holzner</i>
    <br>
    The Coriolis Group
    <br>
    <b>ISBN:</b>&nbsp;1576104265<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;03/01/99</font>&nbsp;&nbsp;<A HREF="http://www.digitalguru.com/dgstore/product.asp?isbn=1576104265&ac%5Fid=28" TARGET="anotherwindows"><img src="/images/buyit.gif" width=64 height=23 hspace="5" align="middle" alt="Buy It" border="0"></a><a href="/PSUser/EWBookMarks.html?url=http://www.itknowledge.com/reference/standard/1576104265/ewtoc.html&isbn=1576104265"><img src="/images/bookmarkit.gif" border=0 align="middle" alt="Bookmark It" width=97 height=23></a>
</td>
</tr>
</table>
<P>
<FORM name= "search2" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewintrak2search_p2.jsp" onSubmit=" return checkForQuery(this); ">
<INPUT type="hidden" name="collection" value="corpitk_p2">
<INPUT type="hidden" name="altcoll" value="allbooks_p2">
<INPUT type="hidden" name="hl" value="off">
<INPUT name="sortspec" type=hidden value="score desc">
<INPUT name="fields" type=hidden value="vdkvgwkey score vstitle vsisbn vsauthor vspublisher vspubdate">
<INPUT name="imageprefix" type=hidden value="http://www.itknowledge.com">
<INPUT name="ssiFolder" type=hidden value="itk">
<INPUT name="topics" type=hidden value="itk_www">
<INPUT type="hidden" name="bookid" value="t_1576104265">
<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="query" size=25 VALUE="">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle>

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=1576104265//-->
<!--TITLE=Perl Core Language Little Black Book//-->
<!--AUTHOR=Steven Holzner//-->
<!--PUBLISHER=The Coriolis Group//-->
<!--CHAPTER=19//-->
<!--PAGES=414-419//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="19-01.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="19-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P><B><I>Listing 19.1</B> lib1.cgi.</I></P>
<!-- CODE //-->
<PRE>
#!/usr/local/bin/perl

require &#145;cgi-lib.pl&#146;;

print &ampPrintHeader;
print &ampHtmlTop (&#147;CGI Example Using cgi-lib.pl&#148;);
print
&#147;&lt;BODY BGCOLOR=\&#147;white\&#148; LINK=\&#147;red\&#148;&gt;&lt;P&gt;

&lt;CENTER&gt;&lt;H1&gt;Here is the Survey!&lt;/H1&gt;&lt;/CENTER&gt;
&lt;H2&gt;Please fill out our survey...&lt;/H2&gt;

Reasons for filling out our survey:
&lt;P&gt;&lt;UL&gt;
&lt;LI&gt;Fame&lt;/LI&gt;
&lt;LI&gt;Fortune&lt;/LI&gt;
&lt;LI&gt;Fun&lt;/LI&gt;
&lt;/UL&gt;

If you would rather not fill out our survey, you might
be interested in
&lt;A HREF=\&#147;http://www.cpan.org/\&#148;&gt;CPAN&lt;/A&gt;.
&lt;HR&gt;

&lt;FORM METHOD=\&#147;POST\&#148;
ACTION=\&#147;http://www.yourserver.com/user/cgi/lib2.cgi\&#148;
ENCTYPE=\&#147;application/x-www-form-urlencoded\&#148;&gt;

Please enter your name:
&lt;INPUT TYPE=\&#147;text\&#148; NAME=\&#147;text\&#148; VALUE=\&#147;\&#148;&gt;&lt;P&gt;
Please enter your opinion: &lt;P&gt;&lt;TEXTAREA NAME=\&#147;textarea\&#148;
ROWS=10 COLS=60&gt;No opinion&lt;/TEXTAREA&gt;&lt;P&gt;

Please indicate what products you use: &lt;P&gt;
&lt;INPUT TYPE=\&#147;checkbox\&#148; NAME=\&#147;checkboxes\&#148;
VALUE=\&#147;Shampoo\&#148;&gt;
Shampoo
&lt;INPUT TYPE=\&#147;checkbox\&#148; NAME=\&#147;checkboxes\&#148;
VALUE=\&#147;Toothpaste\&#148;&gt;
Toothpaste
&lt;INPUT TYPE=\&#147;checkbox\&#148; NAME=\&#147;checkboxes\&#148; VALUE=\&#147;Bread\&#148;
CHECKED&gt;Bread
&lt;INPUT TYPE=\&#147;checkbox\&#148; NAME=\&#147;checkboxes\&#148; VALUE=
\&#147;Cruise missiles\&#148; CHECKED&gt;Cruise missiles &lt;P&gt;

Please indicate your income level: &lt;P&gt;&lt;SELECT
NAME=\&#147;list\&#148; SIZE=4&gt;
&lt;OPTION  VALUE=\&#147;Highest\&#148;&gt;Highest
&lt;OPTION SELECTED VALUE=\&#147;High\&#148;&gt;High
&lt;OPTION  VALUE=\&#147;Medium\&#148;&gt;Medium
&lt;OPTION  VALUE=\&#147;Low\&#148;&gt;Low
&lt;/SELECT&gt;&lt;P&gt;

Please indicate the day of the week: &lt;P&gt;
&lt;INPUT TYPE=\&#147;radio\&#148; NAME=\&#147;radios\&#148; VALUE=\&#147;1\&#148; CHECKED&gt;
Sunday
&lt;INPUT TYPE=\&#147;radio\&#148; NAME=\&#147;radios\&#148; VALUE=\&#147;2\&#148;&gt;Monday
&lt;INPUT TYPE=\&#147;radio\&#148; NAME=\&#147;radios\&#148; VALUE=\&#147;3\&#148;&gt;Tuesday
&lt;INPUT TYPE=\&#147;radio\&#148; NAME=\&#147;radios\&#148; VALUE=\&#147;4\&#148;&gt;Wednesday
&lt;INPUT TYPE=\&#147;radio\&#148; NAME=\&#147;radios\&#148; VALUE=\&#147;5\&#148;&gt;Thursday
&lt;INPUT TYPE=\&#147;radio\&#148; NAME=\&#147;radios\&#148; VALUE=\&#147;6\&#148;&gt;Friday
&lt;INPUT TYPE=\&#147;radio\&#148; NAME=\&#147;radios\&#148; VALUE=\&#147;7\&#148;&gt;Saturday
&lt;P&gt;

Thank you for filling out our Survey. Please indicate how
much unsolicited mail you like to get:
&lt;SELECT NAME=\&#147;popupmenu\&#148;&gt;
&lt;OPTION  VALUE=\&#147;Very much\&#148;&gt;Very much
&lt;OPTION  VALUE=\&#147;A lot\&#148;&gt;A lot
&lt;OPTION  VALUE=\&#147;Not so much\&#148;&gt;Not so much
&lt;OPTION  VALUE=\&#147;None\&#148;&gt;None
&lt;/SELECT&gt;&lt;P&gt;

&lt;INPUT TYPE=\&#147;hidden\&#148; NAME=\&#147;hiddendata\&#148; VALUE=\&#147;Rosebud\&#148;&gt;
&lt;CENTER&gt;&lt;INPUT TYPE=\&#147;submit\&#148; NAME=\&#147;submit\&#148;&gt;
&lt;INPUT TYPE=\&#147;reset\&#148;&gt;&lt;/CENTER&gt;&lt;HR&gt;
&lt;/FORM&gt;&#147;;
print &ampHtmlBot;
</PRE>
<!-- END CODE //-->
<P><B><I>Listing 19.2</B> lib2.cgi.</I></P>
<!-- CODE //-->
<PRE>
#!/usr/local/bin/perl

require &#145;cgi-lib.pl&#146;;
print &ampPrintHeader;
print &ampHtmlTop (&#147;CGI Example Using cgi-lib.pl&#148;);
print
&#147;&lt;BODY BGCOLOR=\&#147;white\&#148; LINK=\&#147;red\&#148;&gt;

&lt;CENTER&gt;&lt;H1&gt;Thanks for filling out our survey.&lt;/H1&gt;&lt;/CENTER&gt;
&lt;H3&gt;Here are your responses...&lt;/H3&gt;&lt;HR&gt;&#148;;

if (&ampReadParse(*in)) {

    print
   &#147;Your name is: &lt;EM&gt;&#148;, $in{&#145;text&#146;},&#147;&lt;/EM&gt;.&#148;,&#147;&lt;p&gt;&#148;,
   &#147;Your opinions are: &lt;EM&gt;&#148;, $in{&#145;textarea&#146;},&#147;&lt;/EM&gt;.&#148;,
   &#147;&lt;p&gt;&#148;,&#147;You use these products: &lt;EM&gt;&#148;,
    join(&#147;,&#147;, &ampSplitParam($in{&#145;checkboxes&#146;})),&#147;&lt;/EM&gt;.&#148;,
   &#147;&lt;p&gt;&#148;,&#147;Your income level is: &lt;EM&gt;&#148;,$in{&#145;list&#146;},
   &#147;&lt;/EM&gt;.&#148;,&#147;&lt;p&gt;&#148;,
   &#147;Today is day &lt;EM&gt;&#148;, $in{&#145;radios&#146;},&#147;&lt;/EM&gt; of the week.&#148;,
    &#147;&lt;p&gt;&#148;,
   &#147;How much unsolicited mail you like: &lt;EM&gt;&#148;,
    $in{&#145;popupmenu&#146;},&#147;&lt;/EM&gt;.&#148;,&#147;&lt;p&gt;&#148;,
   &#147;The hidden data is &lt;EM&gt;&#148;, $in{&#145;hiddendata&#146;},&#147;&lt;/EM&gt;.&#148;;
}
print &ampHtmlBot;
</PRE>
<!-- END CODE //-->
<H4 ALIGN="LEFT"><A NAME="Heading3"></A><FONT COLOR="#000077">What Subroutines Does cgi-lib.pl Include?</FONT></H4>
<P>What subroutines are in cgi-lib.pl? Here they are, along with what they do:
</P>
<DL>
<DD><B>&#149;</B>&nbsp;&nbsp;<B>CgiDie</B>&#151;This subroutine is the same as <B>CgiError</B>, which prints out error messages, but it also quits the program.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>CgiError</B>&#151;This subroutine prints out error messages with the appropriate headers and HTML. If you don&#146;t pass any argument, it just prints a standard error message. Otherwise, the first argument is the title of the error message and the following arguments will be paragraphs in the error message.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>HtmlBot</B>&#151;This subroutine just returns the string &#147;<B>&lt;/BODY&gt;\n&lt;/HTML&gt;\n</B>&#148;, which you put at the end of your HTML page.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>HtmlTop</B>&#151;This subroutine returns the <B>&lt;HEAD&gt;</B> of a Web page and the beginning of the body. If you pass a text argument to <B>HtmlTop</B>, cgi-lib.pl uses that argument as the title of the Web page and adds an <B>&lt;H1&gt;</B> tag with the same text to the top of your page.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>MethGet</B>&#151;This subroutine returns true if the current CGI call was made with a <B>GET</B> request, false otherwise.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>MethPost</B>&#151;This subroutine returns true if the current CGI call was made with a <B>POST</B> request, false otherwise.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>MyBaseUrl</B>&#151;This subroutine returns the base URL of the CGI script without any extra path or query strings attached.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>MyFullUrl</B>&#151;This subroutine returns the full URL of the CGI script, with extra path or query strings attached.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>PrintEnv</B>&#151;This subroutine formats and prints the environment variables available to the script.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>PrintHeader</B>&#151;This subroutine just returns this string: &#147;<B>Content-type: text/html\n\n</B>&#148;. You should start Web pages you create with cgi-lib.pl with this string.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>PrintVariables</B>&#151;This subroutine formats and prints data values. You can pass a hash or a typeglob (to print the items in the associated array). If you don&#146;t pass any arguments to <B>PrintVariables</B>, it prints out %<B>in</B>.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>ReadParse</B>&#151;This is the main cgi-lib.pl subroutine, and it reads and parses the data sent to your CGI script with the HTML form <B>GET</B> or <B>POST</B> actions. You usually use this subroutine to create a hash named %<B>in</B> by passing a typeglob, *<B>in</B>, to <B>ReadParse</B>. This hash contains the data sent to your script indexed by the names of the controls that held the data. The optional second, third, and fourth parameters fill corresponding hashes with data pertinent to file uploads. <B>ReadParse</B> returns a positive value if there was data that it could parse, and false otherwise.
<DD><B>&#149;</B>&nbsp;&nbsp;<B>SplitParam</B>&#151;This subroutine splits a parameter holding multiple values into a list of single parameters. You use this subroutine when you have HTML elements like a checkbox group that can return multiple values.
</DL>
<H4 ALIGN="LEFT"><A NAME="Heading4"></A><FONT COLOR="#000077">Starting An HTML Document</FONT></H4>
<P>To create an HTML document with cgi-lib.pl, you first include that file. You can call cgi-lib.pl&#146;s <B>PrintHeader</B> to get the required HTTP header for your Web page: &#147;<B>Content-type: text/html\n\n</B>&#148;, and you can call <B>HtmlTop</B> to create both a <B>&lt;HEAD&gt;</B> and <B>&lt;BODY&gt;</B> section for your page. If you pass a text argument to <B>HtmlTop</B>, that text is used as the Web page&#146;s title and it&#146;s also placed in an <B>&lt;H1&gt;</B> header at the top of your Web page. Here&#146;s how we start the survey Web page in lib1.cgi:</P>
<!-- CODE SNIP //-->
<PRE>
#!/usr/local/bin/perl

require &#145;cgi-lib.pl&#146;;
print &ampPrintHeader;
print &ampHtmlTop (&#147;CGI Example Using cgi-lib.pl&#148;);
</PRE>
<!-- END CODE SNIP //-->
<P>The results of this script appear in Figure 19.1, earlier in the chapter. Note that you can add additional <B>&lt;BODY&gt;</B> tags if you want to customize specific attributes:</P>
<!-- CODE SNIP //-->
<PRE>
print
&#147;&lt;BODY BGCOLOR=\&#147;white\&#148; LINK=\&#147;red\&#148;&gt;&lt;P&gt;&#148;;
</PRE>
<!-- END CODE SNIP //-->
<I><BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>TIP:&nbsp;&nbsp;</B>You can, of course, skip <B>HtmlTop</B> entirely and create your own <B>&lt;HEAD&gt;</B> and <B>&lt;BODY&gt;</B> sections by printing these tags directly with the attributes you want.</I>
</FONT><HR>
</BLOCKQUOTE>
<H4 ALIGN="LEFT"><A NAME="Heading5"></A><FONT COLOR="#000077">Creating HTML Heads</FONT></H4>
<P>The cgi-lib.pl file doesn&#146;t have any special subroutines to create HTML tags, so if you want them in your Web page, you print them directly. Here&#146;s how to create <B>&lt;H1&gt;</B> and <B>&lt;H2&gt;</B> headers to introduce the Web survey page to the user:</P>
<!-- CODE SNIP //-->
<PRE>
print
&#147;&lt;H1&gt;Here is the Survey!&lt;/H1&gt;
&lt;H2&gt;Please fill out our survey...&lt;/H2&gt;&#148;;
</PRE>
<!-- END CODE SNIP //-->
<P>The results of this code appears in Figure 19.1, earlier in the chapter.
</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="19-01.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="19-03.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>

<hr width="90%" size="1" noshade>
<div align="center">
<font face="Verdana,sans-serif" size="1">Copyright &copy; <a href="/reference/tcg00001.html">The Coriolis Group, Inc.</a></font>
</div>
<!-- all of the reference materials (books) have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

<!-- BEGIN SUB FOOTER -->
	<br>
	<img src="/images/dotclear.gif" width="5" height="7" border="0">
	</TD>
    </TR>
	</TABLE>
	
	<table width="100%" border=0 cellpadding=0 cellspacing=0>
	<tr>
		<td align="left" width="160"><img src="/images/bot_curve.jpg" width="160" alt="" border="0"></td>
		<td align="left" valign="top" nowrap><a href="/index2.html"><img src="/images/top_tabs/home_bot.gif" alt="Home" border="0"></a><a href="/pick-account.html"><img src="/images/top_tabs/account_info_bot.gif" alt="Account Info" border="0"></a><a href="/PSUser/usrreg.htm?AdminAction=InitAdd&Locale=en&URI=/"><img src="/images/top_tabs/subscribe_bot.gif" alt="Subscribe" border="0"></a><a href="/PSUser/psuserauth.htm?cmd=login&URI=/"><img src="/images/top_tabs/login_bot.gif" alt="Login" border="0"></a><a href="/search/"><img src="/images/top_tabs/search_bot.gif" alt="Search" border="0"></a><a href="/PSUser/EWIPOMain.html"><img src="/images/top_tabs/my_itknowledge_bot.gif" alt="My ITKnowledge" border="0"></a><a href="/faq/faq.html"><img src="/images/top_tabs/faq_bot.gif" alt="FAQ" border="0"></a><a href="/sitemap.html"><img src="/images/top_tabs/sitemap_bot.gif" alt="Sitemap" border="0"></a><a href="/contactus.html"><img src="/images/top_tabs/contact_us_bot.gif" alt="Contact Us" border="0"></a></td> 
	</tr>
	</table>
		
	<table width="100%" bgcolor="#003366" border=0 cellpadding=0 cellspacing=0>
	<tr>
		<td align="left" width=145><img src="/images/clear_pixel.gif" width=145 height="1" alt="" border="0"></td>
				
<!-- END SUB FOOTER -->

<!-- all of the books have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

<!-- FOOTER -->
			
<td align="left" bgcolor="#003366">
<table border="0" cellspacing="10" cellpadding="5">
<tr>
<td align="center">
<font face="arial, helvetica" size="1" color="#cccccc"><b><a href="/products.html"><font color="#0099CC">Products</font></a>&nbsp;|&nbsp; <a href="/contactus.html"><font color="#0099CC">Contact Us</font></a>&nbsp;|&nbsp; <a href="http://www.earthweb.com/dlink.corp|about_us-jhtml.72.0.-.0.jhtml" target="resource window"><font color="#0099CC">About Us</font></a>&nbsp;|&nbsp; <a href="http://www.earthweb.com/dlink.corp|privacy-jhtml.72.0.-.-.jhtml" target="resource window"><font color="#0099CC">Privacy</font></a> &nbsp;|&nbsp; <a href="http://www.itmarketer.com/" target="resource window"><font color="#0099CC">Ad Info</font></a> &nbsp;|&nbsp; <a href="/index2.html"><font color="#0099CC">Home</font></a></b>
<br><br>Use of this site is subject to certain <a href="/agreement.html"><font color="#0099CC">Terms &amp; Conditions</font></a>, <a href="/copyright.html"><font color="#0099CC">Copyright &copy; 1996-2000 EarthWeb Inc.</font></a> All rights reserved.  Reproduction in whole or in part in any form or medium without express written <a href="http://www.earthweb.com/dlink.corp|permissions-jhtml.72.0.-.-.jhtml" target="resource window"><font color="#0099CC">permission</font></a> of EarthWeb is prohibited. Read EarthWeb's <A HREF="http://www.earthweb.com/dlink.corp|privacy-jhtml.72.0.-.-.jhtml" target="resource window"><font color="#0099CC">privacy</font></A> statement.</font><br><br>
</td>
</tr>
</table>

<!-- netranger link to stop spiders -->

<a href="ITKN1a2b3c4d5e6f7g8h9idefcon4.html">
<img src="/images/dotclear.gif" border="0" height="1" width="1" align="left"></a>
</td>
		</tr>
</table>
<SCRIPT LANGUAGE="javascript">
<!--
document.write('<LAYER SRC="http://ad.doubleclick.net/adl/itk.earthweb.dart/b_soft_dev;a=b_soft_dev1;sz=468x60;ord=' + ord + '" width=468 height=60 visibility="hidden" onLoad="moveToAbsolute(layer1.pageX,layer1.pageY);clip.height=60;clip.width=468; visibility=\'show\';"></LAYER>');
document.write('<LAYER SRC="http://ad.doubleclick.net/adl/itk.earthweb.dart/b_soft_dev;a=b_soft_dev4;sz=160x60;ord=' + ord + '" width=160 height=60 visibility="hidden" onLoad="moveToAbsolute(layer4.pageX,layer4.pageY);clip.height=60;clip.width=160; visibility=\'show\';"></LAYER>');
document.write('<LAYER SRC="http://ad.doubleclick.net/adl/itk.earthweb.dart/b_soft_dev;a=b_soft_dev3;sz=125x125;ord=' + ord + '" width=125 height=125 visibility="hidden" onLoad="moveToAbsolute(layer3.pageX,layer3.pageY);clip.height=125;clip.width=125; visibility=\'show\';"></LAYER>');
//-->
</SCRIPT>
</BODY>
</HTML>

<!-- END FOOTER -->

